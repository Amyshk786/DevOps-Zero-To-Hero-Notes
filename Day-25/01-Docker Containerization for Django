


Day-25 | Docker Containerization for Django 
================================================




We have used "django-admin startproject devops" Command To Create a Skeleton of our Djano Project

- django-admin is Simlar to Ansible Galaxy jaise humne "Ansible galaxy Kubernetes" kiye thee toh isne apne ko Ek Skeleton bana k de diya tha K8s ka,   Toh waise hi humne yaha "django-admin" use kr ke Skeleton banaye Apne Djano Project ka 


- Aur Project k Skeleton k Andar "devops" name ki ek Directory bani hai  and "db.sqlite3"  & "manage.py"  Name k 2 files bani h aur ye Humari Project Configuration hai


- If we do "cd devops" you will see all the Configuration Files  Under the "settings.py" We have the Entire Information [What are the IPs you can White-List],  [What is the DB you are Going to Connect],  [If u have Any Secret Keys, Secret Information, If u want to Use Any Djano Middleware, If u want to Support Any Templates Or Any Webservers Gateway Interface]  All of These Information is Present as part of your "Settings.py" 


- In a Nutshell "Settings.py" will Set the Entire Configuration for Your Django Project


- After That we have "urls.py" which is Responsible for Serving the Content [Yaha Humne Likhe h k Koi bhi jab App ko Access krega usko "/demo" ya fir "/admin"] likh k Access krna padega


- Ab Tuk Humne Base Create Kiye but koi App Create nhi kiye so Now we will use    "python manage.py startapp demo"  Again this will Create a Bunch of Files for you and a "DEMO"  Directory  Except the "Templates" Directory


- Inside Demo App there is a File called as "views.py" Here you will Write your Actual Code [Is Project k liye Humne ek Python Function Likhe h Jiska naam "Index" hai] & Ye Function ek "demo_site.html" Jo ek HTML file h Usko Render kr raha h jo "Templates" Directory k Andar  h & From there this the Content will be Served to the End User who is Accessing our Application.





# GitHub Repository Used in this Lecture 
Link - https://github.com/Amyshk786/Docker-Zero-to-Hero



IMP NOTE - 
==========


- ENTRYPOINT -> We cannot Overwrite this Value in our Docker-Image.

- CMD -> Whereas CMD is Configureable we can Overwrite the Values.









#######################################

# We have Chosen Base Image as Ubuntu
FROM ubuntu

# This is an Identification where Our Source Code will be Saved 
WORKDIR /app

# Requirements.txt is the File which has All the Python Dependencies & We Have also Copied the Source Code which is in devops
COPY requirements.txt /app/
COPY devops /app/

# If we use the Below CMD it will Install Python, & Also Download the Dependencies which are in "requirements.txt"
RUN apt-get update && apt-get install -y python3 python3-pip python3-venv

SHELL ["/bin/bash", "-c"]

RUN python3 -m venv venv1 && \
source venv1/bin/activate && \
pip install --no-cache-dir -r requirements.txt

EXPOSE 8000

CMD source venv1/bin/activate && python3 manage.py runserver 0.0.0.0:8000




#######################################










# Clone this repository and move to example folder 
git clone https://github.com/Amyshk786/Docker-Zero-to-Hero

ls 

cd Docker-Zero-to-Hero 


cd examples


ls 

cd python-web-app/



# If we do ls we will see these are the files
ls
Dockerfile  devops  requirements.txt



# Build your Docker Image
docker build .




# Verify Docker Image is created
docker images 

Output = docker images
REPOSITORY                            TAG       IMAGE ID       CREATED          SIZE
<none>                                <none>    dacde7f8c3e8   20 seconds ago   602MB
amyshaikh623/my-second-docker-image   latest    76deb49ab677   23 hours ago     562MB
amyshaikh623/my-first-docker-image    latest    8aff5f6282e9   23 hours ago     562MB
ubuntu                                latest    dc4c1391d370   6 days ago       78.1MB
hello-world                           latest    d2c94e258dcb   17 months ago    13.3kB







# Run the Docker Container 
docker run -p 8000:8000 -it dacde7f8c3e8 







# To Access the Application
public-ip:8000/demo/



